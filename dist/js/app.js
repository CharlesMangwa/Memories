!function s(t,e,i){function h(l,r){if(!e[l]){if(!t[l]){var a="function"==typeof require&&require;if(!r&&a)return a(l,!0);if(n)return n(l,!0);throw new Error("Cannot find module '"+l+"'")}var o=e[l]={exports:{}};t[l][0].call(o.exports,function(s){var e=t[l][1][s];return h(e?e:s)},o,o.exports,s,t,e,i)}return e[l].exports}for(var n="function"==typeof require&&require,l=0;l<i.length;l++)h(i[l]);return h}({1:[function(s,t,e){var i=function(){this.$canvas=$(".labyrinth__canvas")[0],this.canvas=this.$canvas.getContext("2d"),this.rows,this.cols,this.cells=[],this.currentCell,this.startingCell="0_0",this.endingCell=!1,this.level=1,this.sizeCell=20,this.borderWidth=4,this.borderColor="#00",this.cache=[],this.count=0,this.indexGoBack=0,this.init=function(s,t,e,i){e&&(this.borderColor=e),t&&(this.sizeCell=t),(1==i||2==i||3==i)&&(this.level=i),s&&(this.rows=s,this.cols=s);for(var h=0;h<this.cols;h++){this.cells[h]=[];for(var n=0;n<this.rows;n++)this.cells[h][n]="1111"}$(".labyrinth__canvas").prop({width:this.sizeCell*this.cols+5,height:this.sizeCell*this.rows+5});var l=this.canvas;for(h=0;h<this.cols;h++)for(n=0;n<this.rows;n++)l.lineWidth=this.borderWidth,l.strokeStyle=this.borderColor,l.strokeRect(n*this.sizeCell+2,h*this.sizeCell+2,this.sizeCell,this.sizeCell);this.startingCell=Math.floor(Math.random()*this.rows)+"_"+Math.floor(Math.random()*this.cols)},this.build=function(){var s=this.startingCell.lastIndexOf("_"),t=this.startingCell.substr(0,s),e=this.startingCell.substring(s+1);this.cache.push(t+"_"+e),this.jump(t,e)},this.jump=function(s,t){s=parseInt(s),t=parseInt(t);for(var e=[],i=1;5>i;i++)switch(i){case 1:this.check(s,t-1)&&e.push(s+"_"+(t-1));break;case 2:this.check(s,t+1)&&e.push(s+"_"+(t+1));break;case 3:this.check(s-1,t)&&e.push(s-1+"_"+t);break;case 4:this.check(s+1,t)&&e.push(s+1+"_"+t)}if(0==e.length)this.endingCell||1!=this.level||(this.endingCell=this.currentCell),this.currentCell!=this.startingCell&&this.goBack();else{this.count++;var h=e[Math.floor(Math.random()*e.length)];this.currentCell=h,this.transpierce(s+"_"+t,h),this.cache.push(s+"_"+t),this.indexGoBack=this.count-1,this.jump(h.substr(0,h.lastIndexOf("_")),h.substring(h.lastIndexOf("_")+1))}},this.check=function(s,t){return-1==s||-1==t||s==this.cols||t==this.rows?!1:"c"==this.cells[s][t].substring(0,1)?!1:!0},this.setState=function(s,t){"c"==s.substring(0,1)&&(s=s.substring(1));var e=[];e.top=1,e.right=2,e.bottom=3,e.left=4;var i=s.substr(0,e[t]-1),h=s.substring(e[t]),s=i+"0"+h;return s},this.transpierce=function(s,t){p1Index=s.lastIndexOf("_"),p2Index=t.lastIndexOf("_"),p1=[],p2=[],p1.x=parseInt(s.substr(0,p1Index)),p2.x=parseInt(t.substr(0,p2Index)),p1.y=parseInt(s.substring(p1Index+1)),p2.y=parseInt(t.substring(p2Index+1));var e=p1.x*this.sizeCell+this.borderWidth,i=p1.y*this.sizeCell+this.borderWidth;p1.x==p2.x?p2.y<p1.y?(p1Direction="top",p2Direction="bottom",i-=this.sizeCell/2):(p1Direction="bottom",p2Direction="top",i+=this.sizeCell/2):p2.x<p1.x?(p1Direction="left",p2Direction="right",e-=this.sizeCell/2):(p1Direction="right",p2Direction="left",e+=this.sizeCell/2),this.cells[p1.x][p1.y]="c"+this.setState(this.cells[p1.x][p1.y],p1Direction),this.cells[p2.x][p2.y]="c"+this.setState(this.cells[p2.x][p2.y],p2Direction),this.canvas.clearRect(e,i,this.sizeCell-this.borderWidth,this.sizeCell-this.borderWidth)},this.goBack=function(){if(0==!this.indexGoBack){this.indexGoBack=this.indexGoBack-1;var s=this.cache[this.indexGoBack],t=s.lastIndexOf("_"),e=s.substr(0,t),i=s.substring(t+1);this.jump(e,i)}else{(2==this.level||3==this.level)&&(this.endingCell=this.cache[this.cache.length-1]);var h=this.canvas;h.fillStyle="rgb(250, 250, 250)",h.fillRect(this.endingCell.substr(0,this.endingCell.lastIndexOf("_"))*this.sizeCell+2+(this.sizeCell-10)/2,this.endingCell.substring(this.endingCell.lastIndexOf("_")+1)*this.sizeCell+2+(this.sizeCell-10)/2,10,10)}},this.getInformations=function(){var s={startingCell:this.startingCell,endingCell:this.endingCell,cells:this.cells,sizeCell:this.sizeCell,borderWidthCell:this.borderWidth};return s}};t.exports=i},{}],2:[function(s,t,e){var i=function(){this.$player,this.sizePlayer,this.sizeCell,this.startingCell,this.currentCell,this.endingCell,this.cells,this.level=1,this.$cache=!1,this.init=function(s,t,e,i,h){this.$player=s,this.sizePlayer=t,this.sizeCell=e.sizeCell,this.startingCell=e.startingCell,this.endingCell=e.endingCell,this.cells=e.cells,this.currentCell=this.startingCell,this.level=i;var n=this.startingCell.lastIndexOf("_"),l=this.startingCell.substr(0,n),r=this.startingCell.substring(n+1),a=e.borderWidthCell+(parseInt(this.sizeCell)-parseInt(this.sizePlayer))/2;this.$player.css({left:Math.floor(l*this.sizeCell+a)-1+"px",top:Math.floor(r*this.sizeCell+a)-1+"px"}),h&&3==this.level&&(this.$cache=h,this.$cache.css({left:Math.floor(l*this.sizeCell+a)-1-this.$cache.width()/2+"px",top:Math.floor(r*this.sizeCell+a)-1-this.$cache.height()/2+"px"}))},this.move=function(s){var t=this.currentCell.lastIndexOf("_"),e=parseInt(this.currentCell.substr(0,t)),i=parseInt(this.currentCell.substring(t+1)),h=this.cells[e][i].substring(1),n=parseInt(this.$player.css("top")),l=parseInt(this.$player.css("left"));if(38==s.keyCode?0==h.substring(0,1)&&(n-=this.sizeCell,i-=1):39==s.keyCode?0==h.substring(1,2)&&(l+=this.sizeCell,e+=1):40==s.keyCode?0==h.substring(2,3)&&(n+=this.sizeCell,i+=1):37==s.keyCode&&0==h.substring(3,4)&&(l-=this.sizeCell,e-=1),this.currentCell=parseInt(e)+"_"+parseInt(i),this.$player.css({top:n+"px",left:l+"px"}),3==this.level&&this.$cache.css({left:l-this.$cache.width()/2+"px",top:n-this.$cache.height()/2+"px"}),this.win()){var r=$(".labyrinth__timer").text();$(".labyrinth__timer").removeClass("labyrinth__timer").addClass("labyrinth__message").text("Gagné en "+r+" !"),3==this.level&&this.$cache.remove()}},this.win=function(){return this.currentCell==this.endingCell?!0:!1}};t.exports=i},{}],3:[function(s,t,e){!function(e){e.fn.labyrinth=function(t){e(this).prepend('<canvas class="labyrinth__canvas" width="200" height="200"></canvas>'),e(this).css("position","relative");var i=s("./constructor.js"),h=new i;h.init(t.grid,t.sizeCell,t.borderColorCell,t.level),h.build();var n=t.colorPlayer,l=t.sizePlayer,r=t.level,t=h.getInformations();e(this).append('<svg class="labyrinth__player" height="'+l+'" width="'+l+'"><circle cy="'+l/2+'" cx="'+l/2+'" r="'+l/2+'" fill="'+n+'" stroke="'+e("html").css("backgroundColor")+'"/></svg>'),e(this).find(".labyrinth__player").css({position:"absolute",top:0,left:0}),3==r&&(e(this).append('<svg class="labyrinth__cache" height="'+2.6*e(".labyrinth__area").width()+'" width="'+2.6*e(".labyrinth__area").width()+'"><circle cy="'+1.3*e(".labyrinth__area").width()+'" cx="'+1.3*e(".labyrinth__area").width()+'" r="'+.95*e(".labyrinth__area").width()+'" fill="transparent" stroke-width="'+(parseInt(e(".labyrinth__area").width())+l+2*t.sizeCell)+'" stroke="'+e("html").css("backgroundColor")+'"/></svg>'),e(this).find(".labyrinth__cache").css({position:"absolute",top:0,left:0})),e(this).after('<div class="labyrinth__timer">0s</di>');var a=s("./gameplay.js"),a=new a;3==r?a.init(e(".labyrinth__player"),l,t,r,e(".labyrinth__cache")):a.init(e(".labyrinth__player"),l,t,r);var o=!1;e(document).keydown(function(s){if(!o){if(o=1,!t)var t=1;e(".labyrinth__timer").text(o+"s");{setInterval(function(){t++,console.log(t),o++,e(".labyrinth__timer").text(o+"s")},1e3)}}a.win()||a.move(s)})},t.exports=e.fn.labyrinth}(jQuery)},{"./constructor.js":1,"./gameplay.js":2}],4:[function(s,t,e){var i=function(){this.$container,this.color="#000",this.shapes=[],this.vectors=[],this.radiusMagnetism,this.model,this.models=[],this.modelsType=[],this.init=function(s,t){this.$container=s,t.color&&(this.color=t.color,t.radiusMagnetism,this.radiusMagnetism=t.radiusMagnetism),this.$container.css("height",parseInt(this.$container.css("height"))+230+"px")},this.run=function(){this.createShape(),this.cutShape()},this.createShape=function(){this.modelsType[0]="square",this.models[0]=[],this.models[0][0]="0 60, 180 120, 60 180",this.models[0][1]="0 60, 120 0, 180 120",this.modelsType[1]="octagon",this.models[1]=[],this.models[1][0]="120 0, 180 60, 180 120, 100 80",this.models[1][1]="0 60, 60 0, 120 0, 100 80, 0 120",this.models[1][2]="100 80, 180 120, 120 180, 60 180, 0 120",this.modelsType[2]="hexagon",this.models[2]=[],this.models[2][0]="80 40, 160 80, 100 160, 60 160",this.models[2][1]="80 40, 60 0, 100 0, 160 80",this.models[2][2]="80 40, 60 160, 0 80, 60 0",this.modelsType[3]="pentagon",this.models[3]=[],this.models[3][0]="0 80, 60 80, 100 160, 60 160",this.models[3][1]="80 0, 100 40, 60 80, 0 80",this.models[3][2]="80 0, 160 80, 100 160, 60 80, 100 40",this.modelsType[4]="pentagon",this.models[4]=[],this.models[4][0]="60 0, 140 0, 180 180, 120 60",this.models[4][1]="0 60, 60 0, 120 60, 0 140",this.models[4][2]="120 60, 180 180, 0 140",this.modelsType[5]="heptagon",this.models[5]=[],this.models[5][0]="60 80, 180 180, 180 80, 120 0",this.models[5][1]="60 80, 0 60, 60 0, 120 0",this.models[5][2]="60 80, 180 180, 60 180, 0 120, 0 60",this.model=Math.floor(Math.random()*this.models.length)},this.cutShape=function(){this.$container.find(".Shapes__main").remove(),this.$container.append('<div class="Shapes__cut" style="height:'+this.$container.css("height")+'">');for(var s=0 in this.models[this.model])$(".Shapes__cut").append('<svg class="Shape__cut" height="180" width="180"><polygon fill="'+this.color+'" points="'+this.models[this.model][s]+'"/></svg>');var t=this.shapes;$(".Shape__cut").each(function(s){$(this).css({left:0,top:0}),t[s]=[],t[s].points=$(this).find("polygon").attr("points").split(", "),t[s].coordinates=$(this).offset().left+";"+$(this).offset().top,t[s].position=$(this).offset().left+";"+$(this).offset().top}),this.shapes=t},this.getOptions=function(){var s=[];return s.$shapes=$(".Shape__cut"),s.shapes=this.shapes,s.radiusMagnetism=this.radiusMagnetism,s}};t.exports=i},{}],5:[function(s,t,e){var i=function(){this.$container,this.$shapes,this.shapes,this.vectors,this.radiusMagnetism=40,this.init=function(s,t){this.$container=s,this.$shapes=t.$shapes,this.shapes=t.shapes,this.vectors=t.vectors,t.radiusMagnetism&&(this.radiusMagnetism=t.radiusMagnetism)},this.run=function(){var s,t,e,i,h=this.$shapes,n=this.shapes,l=this.radiusMagnetism,r=!1,a=0;this.$shapes.each(function(){a++}),this.$shapes.draggable({drag:function(){if(!r){r=1,$(".Shapes__timer").text(r+"s");{setInterval(function(){r++,$(".Shapes__timer").text(r+"s")},1e3)}}i=n[$(this).index()].position,s=parseInt(i.substring(0,i.lastIndexOf(";"))),t=parseInt(i.substring(i.lastIndexOf(";")+1)),s+=parseInt($(this).css("left")),t+=parseInt($(this).css("top")),e=s+";"+t,n[$(this).index()].coordinates=e;for(var o in n)o!=$(this).index()&&(shape1=e,shape2=n[o].coordinates,x1=parseInt(shape1.substring(0,shape1.lastIndexOf(";"))),y1=parseInt(shape1.substring(shape1.lastIndexOf(";")+1)),x2=parseInt(shape2.substring(0,shape2.lastIndexOf(";"))),y2=parseInt(shape2.substring(shape2.lastIndexOf(";")+1)),Math.abs(x2-x1)<parseInt(l)&&Math.abs(y2-y1)<parseInt(l)&&$(this).draggable()&&($(this).draggable("disable"),$(this).draggable("destroy"),$(this).css("opacity",".6"),h.eq(o).css("opacity",".6"),shape1i=$(this).index(),shape2i=o,$(this).animate({top:parseInt($(this).css("top"))+(y2-y1),left:parseInt($(this).css("left"))+(x2-x1)},{duration:150,complete:function(){if(a-=1,1==a){var s=$(".Shapes__timer").text();$(".Shapes__timer").removeClass("Shapes__timer").addClass("Shapes__message").text("Gagné en "+s+" !")}}})))}})}};t.exports=i},{}],6:[function(s,t,e){!function(e){e.fn.shapes=function(t){var i=s("./constructor.js"),h=new i;h.init(e(this),t),h.run();var n=s("./gameplay.js"),n=new n;n.init(e(this),h.getOptions()),n.run();var l="carré";"octagon"==h.modelsType[h.model]?l="octogone":"hexagon"==h.modelsType[h.model]?l="hexagone":"pentagon"==h.modelsType[h.model]?l="pentagone":"heptagon"==h.modelsType[h.model]&&(l="heptagone"),e(this).append('<div class="Shapes__timer">Recréer un '+l+' !</div><a class="wrapper__link" id="restart" role="button">Rejouer</a>'),e("#restart").click(function(){location.reload()})},t.exports=e.fn.shapes}(jQuery)},{"./constructor.js":4,"./gameplay.js":5}],7:[function(s,t,e){s("./Labyrinth/index.js"),s("./Shapes/index.js")},{"./Labyrinth/index.js":3,"./Shapes/index.js":6}]},{},[7]);