!function t(s,i,e){function n(r,l){if(!i[r]){if(!s[r]){var a="function"==typeof require&&require;if(!l&&a)return a(r,!0);if(h)return h(r,!0);throw new Error("Cannot find module '"+r+"'")}var o=i[r]={exports:{}};s[r][0].call(o.exports,function(t){var i=s[r][1][t];return n(i?i:t)},o,o.exports,t,s,i,e)}return i[r].exports}for(var h="function"==typeof require&&require,r=0;r<e.length;r++)n(e[r]);return n}({1:[function(t,s,i){var e=function(){this.$canvas=$(".labyrinth__canvas")[0],this.canvas=this.$canvas.getContext("2d"),this.rows,this.cols,this.cells=[],this.currentCell,this.startingCell="0_0",this.endingCell=!1,this.level=1,this.sizeCell=20,this.borderWidth=4,this.borderColor="#00",this.cache=[],this.count=0,this.indexGoBack=0,this.init=function(t,s,i,e){i&&(this.borderColor=i),s&&(this.sizeCell=s),1==e&&2==this.level&&(this.level=e),t&&(this.rows=t,this.cols=t);for(var n=0;n<this.cols;n++){this.cells[n]=[];for(var h=0;h<this.rows;h++)this.cells[n][h]="1111"}$(".labyrinth__canvas").prop({width:this.sizeCell*this.cols+5,height:this.sizeCell*this.rows+5});var r=this.canvas;for(n=0;n<this.cols;n++)for(h=0;h<this.rows;h++)r.lineWidth=this.borderWidth,r.strokeStyle=this.borderColor,r.strokeRect(h*this.sizeCell+2,n*this.sizeCell+2,this.sizeCell,this.sizeCell);this.startingCell=Math.floor(Math.random()*this.rows)+"_"+Math.floor(Math.random()*this.cols)},this.build=function(){var t=this.startingCell.lastIndexOf("_"),s=this.startingCell.substr(0,t),i=this.startingCell.substring(t+1);this.cache.push(s+"_"+i),this.jump(s,i)},this.jump=function(t,s){t=parseInt(t),s=parseInt(s);for(var i=[],e=1;5>e;e++)switch(e){case 1:this.check(t,s-1)&&i.push(t+"_"+(s-1));break;case 2:this.check(t,s+1)&&i.push(t+"_"+(s+1));break;case 3:this.check(t-1,s)&&i.push(t-1+"_"+s);break;case 4:this.check(t+1,s)&&i.push(t+1+"_"+s)}if(0==i.length)this.endingCell||1!=this.level||(this.endingCell=this.currentCell),this.currentCell!=this.startingCell&&this.goBack();else{this.count++;var n=i[Math.floor(Math.random()*i.length)];this.currentCell=n,this.transpierce(t+"_"+s,n),this.cache.push(t+"_"+s),this.indexGoBack=this.count-1,this.jump(n.substr(0,n.lastIndexOf("_")),n.substring(n.lastIndexOf("_")+1))}},this.check=function(t,s){return-1==t||-1==s||t==this.cols||s==this.rows?!1:"c"==this.cells[t][s].substring(0,1)?!1:!0},this.setState=function(t,s){"c"==t.substring(0,1)&&(t=t.substring(1));var i=[];i.top=1,i.right=2,i.bottom=3,i.left=4;var e=t.substr(0,i[s]-1),n=t.substring(i[s]),t=e+"0"+n;return t},this.transpierce=function(t,s){p1Index=t.lastIndexOf("_"),p2Index=s.lastIndexOf("_"),p1=[],p2=[],p1.x=parseInt(t.substr(0,p1Index)),p2.x=parseInt(s.substr(0,p2Index)),p1.y=parseInt(t.substring(p1Index+1)),p2.y=parseInt(s.substring(p2Index+1));var i=p1.x*this.sizeCell+this.borderWidth,e=p1.y*this.sizeCell+this.borderWidth;p1.x==p2.x?p2.y<p1.y?(p1Direction="top",p2Direction="bottom",e-=this.sizeCell/2):(p1Direction="bottom",p2Direction="top",e+=this.sizeCell/2):p2.x<p1.x?(p1Direction="left",p2Direction="right",i-=this.sizeCell/2):(p1Direction="right",p2Direction="left",i+=this.sizeCell/2),this.cells[p1.x][p1.y]="c"+this.setState(this.cells[p1.x][p1.y],p1Direction),this.cells[p2.x][p2.y]="c"+this.setState(this.cells[p2.x][p2.y],p2Direction),this.canvas.clearRect(i,e,this.sizeCell-this.borderWidth,this.sizeCell-this.borderWidth)},this.goBack=function(){if(0==!this.indexGoBack){this.indexGoBack=this.indexGoBack-1;var t=this.cache[this.indexGoBack],s=t.lastIndexOf("_"),i=t.substr(0,s),e=t.substring(s+1);this.jump(i,e)}else{(2==this.level||3==this.level)&&(this.endingCell=this.cache[this.cache.length-1]);var n=this.canvas;n.fillStyle="rgb(250, 250, 250)",n.fillRect(this.endingCell.substr(0,this.endingCell.lastIndexOf("_"))*this.sizeCell+2+(this.sizeCell-10)/2,this.endingCell.substring(this.endingCell.lastIndexOf("_")+1)*this.sizeCell+2+(this.sizeCell-10)/2,10,10)}},this.getInformations=function(){var t={startingCell:this.startingCell,endingCell:this.endingCell,cells:this.cells,sizeCell:this.sizeCell,borderWidthCell:this.borderWidth};return t}};s.exports=e},{}],2:[function(t,s,i){var e=function(){this.$player,this.sizePlayer,this.sizeCell,this.startingCell,this.currentCell,this.endingCell,this.cells,this.level=1,this.$cache=!1,this.init=function(t,s,i,e,n){this.$player=t,this.sizePlayer=s,this.sizeCell=i.sizeCell,this.startingCell=i.startingCell,this.endingCell=i.endingCell,this.cells=i.cells,this.currentCell=this.startingCell,this.level=e;var h=this.startingCell.lastIndexOf("_"),r=this.startingCell.substr(0,h),l=this.startingCell.substring(h+1),a=i.borderWidthCell+(parseInt(this.sizeCell)-parseInt(this.sizePlayer))/2;this.$player.css({left:Math.floor(r*this.sizeCell+a)-1+"px",top:Math.floor(l*this.sizeCell+a)-1+"px"}),n&&3==this.level&&(this.$cache=n,this.$cache.css({left:Math.floor(r*this.sizeCell+a)-1-this.$cache.width()/2+"px",top:Math.floor(l*this.sizeCell+a)-1-this.$cache.height()/2+"px"}))},this.move=function(t){var s=this.currentCell.lastIndexOf("_"),i=parseInt(this.currentCell.substr(0,s)),e=parseInt(this.currentCell.substring(s+1)),n=this.cells[i][e].substring(1),h=parseInt(this.$player.css("top")),r=parseInt(this.$player.css("left"));38==t.keyCode?0==n.substring(0,1)&&(h-=this.sizeCell,e-=1):39==t.keyCode?0==n.substring(1,2)&&(r+=this.sizeCell,i+=1):40==t.keyCode?0==n.substring(2,3)&&(h+=this.sizeCell,e+=1):37==t.keyCode&&0==n.substring(3,4)&&(r-=this.sizeCell,i-=1),this.currentCell=parseInt(i)+"_"+parseInt(e),this.$player.css({top:h+"px",left:r+"px"}),3==this.level&&this.$cache.css({left:r-this.$cache.width()/2+"px",top:h-this.$cache.height()/2+"px"}),this.win()&&($(".labyrinth__timer").removeClass("labyrinth__timer").addClass("labyrinth__message").text("GagnÃ© !"),3==this.level&&this.$cache.remove())},this.win=function(){return this.currentCell==this.endingCell?!0:!1}};s.exports=e},{}],3:[function(t,s,i){!function(i){i.fn.labyrinth=function(s){i(this).prepend('<canvas class="labyrinth__canvas" width="200" height="200"></canvas>'),i(this).css("position","relative");var e=t("./constructor.js"),n=new e;n.init(s.grid,s.sizeCell,s.borderColorCell,s.level),n.build();var h=s.colorPlayer,r=s.sizePlayer,l=s.level,s=n.getInformations();i(this).append('<svg class="labyrinth__player" height="'+r+'" width="'+r+'"><circle cy="'+r/2+'" cx="'+r/2+'" r="'+r/2+'" fill="'+h+'" stroke="'+i("html").css("backgroundColor")+'"/></svg>'),i(this).find(".labyrinth__player").css({position:"absolute",top:0,left:0}),3==l&&(i(this).append('<svg class="labyrinth__cache" height="'+2.6*i(".labyrinth__area").width()+'" width="'+2.6*i(".labyrinth__area").width()+'"><circle cy="'+1.3*i(".labyrinth__area").width()+'" cx="'+1.3*i(".labyrinth__area").width()+'" r="'+.95*i(".labyrinth__area").width()+'" fill="transparent" stroke-width="'+(parseInt(i(".labyrinth__area").width())+r+2*s.sizeCell)+'" stroke="'+i("html").css("backgroundColor")+'"/></svg>'),i(this).find(".labyrinth__cache").css({position:"absolute",top:0,left:0})),i(this).after('<div class="labyrinth__timer">0s</di>');var a=t("./gameplay.js"),a=new a;3==l?a.init(i(".labyrinth__player"),r,s,l,i(".labyrinth__cache")):a.init(i(".labyrinth__player"),r,s,l);var o=!1;i(document).keydown(function(t){if(!o){if(o=1,!s)var s=1;i(".labyrinth__timer").text(o+"s");{setInterval(function(){s++,console.log(s),o++,i(".labyrinth__timer").text(o+"s")},1e3)}}a.win()||a.move(t)})},s.exports=i.fn.labyrinth}(jQuery)},{"./constructor.js":1,"./gameplay.js":2}],4:[function(t,s,i){var e=function(){this.$container,this.color="#000",this.shapes=[],this.vectors=[],this.radiusMagnetism,this.init=function(t,s){this.$container=t,s.color&&(this.color=s.color),s.radiusMagnetism&&(this.radiusMagnetism=s.radiusMagnetism)},this.run=function(){this.createShape(),this.cutShape()},this.createShape=function(){this.$container.append('<svg class="Shapes__main" data-id="0" height="180" width="180"><polygon fill="'+this.color+'" points="60 180, 180 120, 120 0, 0 60"/></svg>'),this.$container.css("height",parseInt(this.$container.css("height"))+130)},this.cutShape=function(){this.$container.find(".Shapes__main").remove(),this.$container.append('<div class="Shapes__cut"><svg class="Shape__cut" height="180" width="180"><polygon fill="'+this.color+'" points="0 60, 180 120, 60 180"/></svg><svg class="Shape__cut" data-id="0" height="180" width="180"><polygon fill="'+this.color+'" points="0 60, 120 0, 180 120"/></svg></div>');var t=this.shapes;$(".Shape__cut").each(function(s){t[s]=[],t[s].points=$(this).find("polygon").attr("points").split(", "),t[s].coordinates=$(this).offset().left+";"+$(this).offset().top,t[s].position=$(this).offset().left+";"+$(this).offset().top}),this.shapes=t,console.log(t)},this.getOptions=function(){var t=[];return t.$shapes=$(".Shape__cut"),t.shapes=this.shapes,t.radiusMagnetism=this.radiusMagnetism,t}};s.exports=e},{}],5:[function(t,s,i){var e=function(){this.$container,this.$shapes,this.shapes,this.vectors,this.radiusMagnetism=40,this.init=function(t,s){this.$container=t,this.$shapes=s.$shapes,this.shapes=s.shapes,this.vectors=s.vectors,s.radiusMagnetism&&(this.radiusMagnetism=s.radiusMagnetism)},this.run=function(){var t,s,i,e,n=(this.$shapes,this.shapes),h=this.radiusMagnetism;this.$shapes.draggable({containment:this.$container,drag:function(){e=n[$(this).index()].position,t=parseInt(e.substring(0,e.lastIndexOf(";"))),s=parseInt(e.substring(e.lastIndexOf(";")+1)),t+=parseInt($(this).css("left")),s+=parseInt($(this).css("top")),i=t+";"+s,n[$(this).index()].coordinates=i;for(var r in n)r!=$(this).index()&&(shape1=i,shape2=n[r].coordinates,x1=parseInt(shape1.substring(0,shape1.lastIndexOf(";"))),y1=parseInt(shape1.substring(shape1.lastIndexOf(";")+1)),x2=parseInt(shape2.substring(0,shape2.lastIndexOf(";"))),y2=parseInt(shape2.substring(shape2.lastIndexOf(";")+1)),Math.abs(x2-x1)<parseInt(h)&&Math.abs(y2-y1)<parseInt(h)&&($(this).draggable("destroy"),shape1=$(this).index(),shape2=r,$(this).animate({top:parseInt($(this).css("top"))+(y2-y1),left:parseInt($(this).css("left"))+(x2-x1)},{duration:150,complete:function(){$(this).css("opacity",0);for(var t=[],s=0;2>s;s++){var i=shape1;1==s&&(i=shape2);for(var e in n[i].points)t[n[i].points[e]]?t[n[i].points[e]]++:t[n[i].points[e]]=0}var h="",r=0;for(var l in t)r++,h+=l;console.log(h)}})))}})}};s.exports=e},{}],6:[function(t,s,i){!function(i){i.fn.shapes=function(s){var e=t("./constructor.js"),n=new e;n.init(i(this),s),n.run();var h=t("./gameplay.js"),h=new h;h.init(i(this),n.getOptions()),h.run()},s.exports=i.fn.shapes}(jQuery)},{"./constructor.js":4,"./gameplay.js":5}],7:[function(t,s,i){t("./Labyrinth/index.js"),t("./Shapes/index.js")},{"./Labyrinth/index.js":3,"./Shapes/index.js":6}]},{},[7]);